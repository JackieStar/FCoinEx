{"version":3,"sources":["uni-app:///main.js",null,"webpack:///I:/out-project/FCoinEx/pages/public/self.vue?0e9a","webpack:///I:/out-project/FCoinEx/pages/public/self.vue?8e89","webpack:///I:/out-project/FCoinEx/pages/public/self.vue?c157","uni-app:///pages/public/self.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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ACA;;AAEA;AACA,qDAlCA,CAkCA;AACA,mFAnCA,CAmCA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oDA3CA,CA2CA;AACA,mDA5CA,CA4CA;AACA;AACA;AACA,2CA/CA,CA+CA;AACA;AACA,4BADA;;AAGA;AACA,KA9FA;;AAgGA,oBAhGA,8BAgGA;;;;;;AAMA;;AAEA,KAxGA;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA,KArHA;;AAuHA,wBAvHA,kCAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/HA;;AAiIA,yBAjIA,mCAiIA;AACA;;AAEA;;;;AAIA;AACA,wCARA,CAQA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAhJA;;AAkJA,qBAlJA,+BAkJA;;;;;;AAMA;;AAEA,KA1JA;;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA,KAvKA;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAXA;;AAaA,KAzLA;AA0LA;AACA;;AAEA;AACA;;AAEA;AACA,mBADA;AAEA,iBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBADA;AAEA,kBAFA;AAGA,kBAHA;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBADA;AAEA;;AAEA;AACA,4BADA,EACA,mBADA,EACA,kBADA;;AAGA;AACA;AACA;AACA;;AAEA,OAtCA;AAuCA,KAvOA;;;AA0OA;AACA;AACA;AACA;AACA;AACA,KA/OA;;AAiPA;AACA;AACA,KAnPA;;AAqPA;AACA;AACA,KAvPA;;AAyPA;AACA;AACA;AACA,KA5PA;;AA8PA;AACA;AACA,KAhQA;;AAkQA;AACA;AACA,KApQA,GAjCA,E","file":"pages/public/self.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/public/self.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./self.vue?vue&type=template&id=64959e49&\"\nvar renderjs\nimport script from \"./self.vue?vue&type=script&lang=js&\"\nexport * from \"./self.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/public/self.vue\"\nexport default component.exports","export * from \"-!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./self.vue?vue&type=template&id=64959e49&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./self.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HbuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./self.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class='divchart'>\r\n\t\t<!--  #ifdef  H5 -->\r\n\t\t<div>\r\n\t\t\t<div class='kline' id=\"kline\" ref='kline' v-show=\"KLine.IsShow\"></div>\r\n\t\t\t<div class='minute' id=\"minute\" ref='minute' v-show=\"Minute.IsShow\"></div>\r\n\t\t</div>\r\n\t\t<!--  #endif -->\r\n\r\n\t\t<!--  #ifndef  H5 -->\r\n\t\t<view>\r\n\t\t\t<canvas id=\"kline2\" canvas-id='kline2' class='kline2'\r\n\t\t\t\tv-bind:style=\"{width: ChartWidth+'px', height: ChartHeight+'px'}\" v-show=\"KLine.IsShow\"\r\n\t\t\t\t@touchstart=\"KLineTouchStart\" @touchmove='KLineTouchMove' @touchend='KLineTouchEnd'></canvas>\r\n\t\t\t<canvas id=\"minute2\" canvas-id='minute2' class='minute'\r\n\t\t\t\tv-bind:style=\"{width: ChartWidth+'px', height: ChartHeight+'px'}\" v-show=\"Minute.IsShow\"\r\n\t\t\t\t@touchstart=\"MinuteTouchStart\" @touchmove='MinuteTouchMove' @touchend='MinuteTouchEnd'></canvas>\r\n\t\t</view>\r\n\t\t<!--  #endif -->\r\n\r\n\t\t<!-- <div class=\"button-sp-area\">\r\n\t\t\t<button class=\"mini-btn\" type=\"default\" size=\"mini\"\r\n\t\t\t\t@click=\"ChangeMinutePeriod(MINUTE_PERIOD_ID.MINUTE_ID)\">分时</button>\r\n\t\t\t<button class=\"mini-btn\" type=\"default\" size=\"mini\"\r\n\t\t\t\t@click=\"ChangeMinutePeriod(MINUTE_PERIOD_ID.MINUTE_5DAY_ID)\">5日</button>\r\n\t\t\t<button class=\"mini-btn\" type=\"default\" size=\"mini\"\r\n\t\t\t\t@click=\"ChangeKLinePeriod(KLINE_PERIOD_ID.KLINE_DAY_ID)\">日线</button>\r\n\t\t\t<button class=\"mini-btn\" type=\"default\" size=\"mini\"\r\n\t\t\t\t@click=\"ChangeKLinePeriod(KLINE_PERIOD_ID.KLINE_WEEK_ID)\">周线</button>\r\n\t\t\t<button class=\"mini-btn\" type=\"default\" size=\"mini\"\r\n\t\t\t\t@click=\"ChangeKLinePeriod(KLINE_PERIOD_ID.KLINE_MINUTE_ID)\">1分钟</button>\r\n\t\t\t<button class=\"mini-btn\" type=\"default\" size=\"mini\"\r\n\t\t\t\t@click=\"ChangeKLinePeriod(KLINE_PERIOD_ID.KLINE_15MINUTE_ID)\">15分钟</button>\r\n\t\t</div> -->\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef H5\t\r\n\timport HQChart from '../../static/js/umychart.uniapp.h5.js'\r\n\t// #endif\r\n\r\n\t// #ifndef H5\r\n\timport {\r\n\t\tJSCommon\r\n\t} from '../../static/js/umychart.wechat.3.0.js'\r\n\t// #endif\r\n\r\n\timport {\r\n\t\tJSCommonHQStyle\r\n\t} from '../../static/js/umychart.style.wechat.js'\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\r\n\tfunction DefaultData() {}\r\n\r\n\tDefaultData.GetKLineOption = function() {\r\n\t\tlet data = {\r\n\t\t\tType: '历史K线图',\r\n\r\n\t\t\tWindows: //窗口指标\r\n\t\t\t\t[{\r\n\t\t\t\t\t\tIndex: \"MA\",\r\n\t\t\t\t\t\tModify: false,\r\n\t\t\t\t\t\tChange: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tIndex: \"VOL\",\r\n\t\t\t\t\t\tModify: false,\r\n\t\t\t\t\t\tChange: false\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\r\n\t\t\tIsCorssOnlyDrawKLine: true,\r\n\t\t\tCorssCursorTouchEnd: true,\r\n\t\t\tIsShowRightMenu: false, //右键菜单\r\n\t\t\tKLineTitle: //标题设置\r\n\t\t\t{\r\n\t\t\t\tIsShow: false,\r\n\t\t\t\tIsShowName: false, //不显示股票名称\r\n\t\t\t\tIsShowSettingInfo: false //不显示周期/复权\r\n\t\t\t},\r\n\t\t\tBorder: //边框\r\n\t\t\t{\r\n\t\t\t\tLeft: 1,\r\n\t\t\t\tRight: 1, //右边间距\r\n\t\t\t\tTop: 0,\r\n\t\t\t\tBottom: 25,\r\n\t\t\t},\r\n\r\n\t\t\tKLine: {\r\n\t\t\t\tRight: 1, //复权 0 不复权 1 前复权 2 后复权\r\n\t\t\t\tPeriod: 0, //周期: 0 日线 1 周线 2 月线 3 年线 \r\n\t\t\t\tPageSize: 30,\r\n\t\t\t\tIsShowTooltip: false,\r\n\t\t\t\tDrawType: 0\r\n\t\t\t},\r\n\r\n\t\t\tExtendChart: [{\r\n\t\t\t\t\tName: 'KLineTooltip'\r\n\t\t\t\t}, //开启手机端tooltip\r\n\t\t\t],\r\n\r\n\t\t\tFrame: //子框架设置\r\n\t\t\t\t[{\r\n\t\t\t\t\t\tSplitCount: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSplitCount: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSplitCount: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\r\n\t\t};\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tDefaultData.GetMinuteOption = function() {\r\n\t\tvar option = {\r\n\t\t\tType: '分钟走势图', //创建图形类型\r\n\r\n\t\t\tWindows: //窗口指标\r\n\t\t\t\t[\r\n\r\n\t\t\t\t],\r\n\t\t\tIsAutoUpdate: true, //是自动更新数据\r\n\t\t\tAutoUpdateFrequency:3000, \r\n\t\t\tDayCount: 1, //1 最新交易日数据 >1 多日走势图\r\n\t\t\tIsShowRightMenu: false, //是否显示右键菜单\r\n\t\t\tCorssCursorTouchEnd: true,\r\n\r\n\t\t\tMinuteLine: {\r\n\t\t\t\t//IsDrawAreaPrice:false,      //是否画价格面积图\r\n\t\t\t},\r\n\r\n\t\t\tBorder: //边框\r\n\t\t\t{\r\n\t\t\t\tLeft: 1, //左边间距\r\n\t\t\t\tRight: 1, //右边间距\r\n\t\t\t\tTop: 20,\r\n\t\t\t\tBottom: 20\r\n\t\t\t},\r\n\r\n\t\t\tFrame: //子框架设置\r\n\t\t\t\t[{\r\n\t\t\t\t\t\tSplitCount: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSplitCount: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSplitCount: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\r\n\t\t\tExtendChart: //扩展图形\r\n\t\t\t\t[{\r\n\t\t\t\t\t\tName: 'MinuteTooltip'\r\n\t\t\t\t\t} //手机端tooltip\r\n\t\t\t\t],\r\n\t\t};\r\n\r\n\t\treturn option;\r\n\t}\r\n\r\n\r\n\t//周期枚举\r\n\tvar KLINE_PERIOD_ID = {\r\n\t\tKLINE_DAY_ID: 0,\r\n\t\tKLINE_WEEK_ID: 1,\r\n\t\tKLINE_MONTH_ID: 2,\r\n\t\tKLINE_YEAR_ID: 3,\r\n\r\n\t\tKLINE_MINUTE_ID: 4,\r\n\t\tKLINE_5MINUTE_ID: 5,\r\n\t\tKLINE_15MINUTE_ID: 6,\r\n\t\tKLINE_30MINUTE_ID: 7,\r\n\t\tKLINE_60MINUTE_ID: 8\r\n\t}\r\n\r\n\t//周期枚举\r\n\tvar MINUTE_PERIOD_ID = {\r\n\t\tMINUTE_ID: 1,\r\n\t\tMINUTE_2DAY_ID: 2,\r\n\t\tMINUTE_3DAY_ID: 3,\r\n\t\tMINUTE_4DAY_ID: 4,\r\n\t\tMINUTE_5DAY_ID: 5,\r\n\t}\r\n\r\n\tvar g_KLine = {\r\n\t\tJSChart: null\r\n\t};\r\n\tvar g_Minute = {\r\n\t\tJSChart: null\r\n\t};\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\tlet data = {\r\n\t\t\t\tSymbol: '600000.sh',\r\n\t\t\t\tChartWidth: uni.upx2px(750),\r\n\t\t\t\tChartHeight: uni.upx2px(789),\r\n\t\t\t\tKLine: {\r\n\r\n\t\t\t\t\tOption: DefaultData.GetKLineOption(),\r\n\t\t\t\t\tIsShow: true,\r\n\t\t\t\t},\r\n\t\t\t\tMinute: {\r\n\r\n\t\t\t\t\tOption: DefaultData.GetMinuteOption(),\r\n\t\t\t\t\tIsShow: false,\r\n\t\t\t\t},\r\n\r\n\t\t\t\tMINUTE_PERIOD_ID: MINUTE_PERIOD_ID,\r\n\t\t\t\tKLINE_PERIOD_ID: KLINE_PERIOD_ID,\r\n\t\t\t};\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tonLoad() {\r\n\r\n\t\t},\r\n\r\n\t\tonReady() {\r\n\t\t\tthis.OnSize();\r\n\t\t\tthis.CreateKLineChart();\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t...mapActions('trade', ['getProductLine']),\r\n\t\t\tOnSize() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.OnSize_h5();\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\r\n\t\t\tOnSize_h5() {\r\n\t\t\t\tvar chartHeight = this.ChartHeight;\r\n\t\t\t\tvar chartWidth = this.ChartWidth;\r\n\r\n\t\t\t\tvar kline = this.$refs.kline;\r\n\t\t\t\tkline.style.width = chartWidth + 'px';\r\n\t\t\t\tkline.style.height = chartHeight + 'px';\r\n\t\t\t\tif (g_KLine.JSChart) g_KLine.JSChart.OnSize();\r\n\r\n\t\t\t\tvar minute = this.$refs.minute;\r\n\t\t\t\tminute.style.width = chartWidth + 'px';\r\n\t\t\t\tminute.style.height = chartHeight + 'px';\r\n\t\t\t\tif (g_Minute.JSChart) g_Minute.JSChart.OnSize();\r\n\t\t\t},\r\n\r\n\t\t\tCreateKLineChart_h5() //创建K线图\r\n\t\t\t{\r\n\t\t\t\tif (g_KLine.JSChart) return;\r\n\t\t\t\tthis.KLine.Option.Symbol = this.Symbol;\r\n\t\t\t\tlet chart = HQChart.JSChart.Init(this.$refs.kline);\r\n\t\t\t\tthis.KLine.Option.NetworkFilter = this.NetworkFilter;\r\n\r\n\t\t\t\tthis.KLine.Option.IsCorssOnlyDrawKLine = true; //十字光标只能在K线上\r\n\t\t\t\tthis.KLine.Option.CorssCursorTouchEnd = true; //手势结束十字光标自动隐藏\r\n\t\t\t\tthis.KLine.Option.IsClickShowCorssCursor = true;\r\n\t\t\t\tthis.KLine.Option.IsFullDraw = true;\r\n\t\t\t\tthis.KLine.Option.IsApiPeriod = true; //一定要设置为true不然会有意想不到的惊喜\r\n\t\t\t\tthis.KLine.Option.ExtendChart = [{\r\n\t\t\t\t\tName: 'KLineTooltip'\r\n\t\t\t\t}];\r\n\t\t\t\tchart.SetOption(this.KLine.Option);\r\n\t\t\t\tg_KLine.JSChart = chart;\r\n\t\t\t},\r\n\r\n\t\t\tCreateKLineChart_app() {\r\n\t\t\t\tif (this.KLine.JSChart) return;\r\n\r\n\t\t\t\tlet element = new JSCommon.JSCanvasElement();\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\telement.IsUniApp = true; //canvas需要指定下 是uniapp的app\r\n\t\t\t\t// #endif\r\n\t\t\t\telement.ID = 'kline2';\r\n\t\t\t\telement.Height = this.ChartHeight; //高度宽度需要手动绑定!!\r\n\t\t\t\telement.Width = this.ChartWidth;\r\n\r\n\t\t\t\tg_KLine.JSChart = JSCommon.JSChart.Init(element);\r\n\r\n\t\t\t\tvar blackStyle = JSCommonHQStyle.GetStyleConfig(JSCommonHQStyle.STYLE_TYPE_ID.BLACK_ID);\r\n\t\t\t\tblackStyle.BGColor = 'rgb(12,23,37)'; //背景\r\n\t\t\t\tblackStyle.FrameTitleBGColor = 'rgb(16,28,45)'; //指标标题背景\r\n\t\t\t\tblackStyle.FrameSplitTextColor = 'rgb(101,117,138)'; //刻度颜色\r\n\r\n\t\t\t\t//K线颜色\r\n\t\t\t\tblackStyle.UpBarColor = 'rgb(37,175,142)'; //K线上涨柱子颜色\r\n\t\t\t\tblackStyle.UpTextColor = blackStyle.UpBarColor; //上涨价格颜色\r\n\t\t\t\tblackStyle.DownBarColor = 'rgb(210,73,99)'; //K线下跌柱子颜色\r\n\t\t\t\tblackStyle.DownTextColor = blackStyle.DownBarColor; //下跌价格颜色\r\n\r\n\t\t\t\t//指标线段颜色\r\n\t\t\t\tblackStyle.Index.LineColor[0] = 'rgb(88,106,126)';\r\n\t\t\t\tblackStyle.Index.LineColor[1] = 'rgb(222,217,167)';\r\n\t\t\t\tblackStyle.Index.LineColor[2] = 'rgb(113,161,164)';\r\n\r\n\t\t\t\t//最新价格刻度颜色\r\n\t\t\t\tblackStyle.FrameLatestPrice.UpBarColor = 'rgb(37,175,142)';\r\n\t\t\t\tblackStyle.FrameLatestPrice.DownBarColor = 'rgb(210,73,99)';\r\n\r\n\t\t\t\t//面积图颜色\r\n\t\t\t\tblackStyle.CloseLineColor = 'rgb(113,121,133)'; //收盘价线颜色\r\n\t\t\t\tblackStyle.CloseLineAreaColor = ['rgba(36,41,57,0.8)', 'rgba(22,34,53,0.3)']; //收盘价面积图颜色\r\n\r\n\t\t\t\t//最高最低价颜色\r\n\t\t\t\tblackStyle.KLine.MaxMin.Color = 'rgb(255,250,240)';\r\n\t\t\t\tJSCommon.JSChart.SetStyle(blackStyle);\r\n\r\n\t\t\t\tthis.KLine.Option.NetworkFilter = this.NetworkFilter;\r\n\t\t\t\tthis.KLine.Option.Symbol = this.Symbol;\r\n\t\t\t\tthis.KLine.Option.IsCorssOnlyDrawKLine = true; //十字光标只能在K线上\r\n\t\t\t\tthis.KLine.Option.CorssCursorTouchEnd = true; //手势结束十字光标自动隐藏\r\n\t\t\t\tthis.KLine.Option.IsClickShowCorssCursor = true;\r\n\t\t\t\tthis.KLine.Option.IsFullDraw = true;\r\n\t\t\t\tthis.KLine.Option.IsApiPeriod = true; //一定要设置为true不然会有意想不到的惊喜\r\n\t\t\t\tthis.KLine.Option.ExtendChart = [{\r\n\t\t\t\t\tName: 'KLineTooltip'\r\n\t\t\t\t}];\r\n\t\t\t\tg_KLine.JSChart.SetOption(this.KLine.Option);\r\n\t\t\t},\r\n\r\n\t\t\tCreateKLineChart() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.CreateKLineChart_h5();\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tthis.CreateKLineChart_app();\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\r\n\t\t\t//K线周期切换\r\n\t\t\tChangeKLinePeriod: function(period) {\r\n\t\t\t\tthis.Minute.IsShow = false;\r\n\t\t\t\tthis.KLine.IsShow = true;\r\n\t\t\t\tif (!g_KLine.JSChart) //不存在创建\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.KLine.Option.Period = period;\r\n\t\t\t\t\tthis.CreateKLineChart_h5();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tg_KLine.JSChart.ChangePeriod(period);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tCreateMinuteChart_h5() //创建日线图\r\n\t\t\t{\r\n\t\t\t\tif (g_Minute.JSChart) return;\r\n\t\t\t\tthis.Minute.Option.Symbol = this.Symbol;\r\n\t\t\t\tlet chart = HQChart.JSChart.Init(this.$refs.minute);\r\n\t\t\t\tthis.Minute.Option.NetworkFilter = this.NetworkFilter;\r\n\t\t\t\tchart.SetOption(this.Minute.Option);\r\n\t\t\t\tg_Minute.JSChart = chart;\r\n\t\t\t},\r\n\r\n\t\t\tCreateMinuteChart_app() {\r\n\t\t\t\tif (g_Minute.JSChart) return;\r\n\r\n\t\t\t\tvar element = new JSCommon.JSCanvasElement();\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\telement.IsUniApp = true; //canvas需要指定下 是uniapp的app\r\n\t\t\t\t// #endif\r\n\t\t\t\telement.ID = 'minute2';\r\n\t\t\t\telement.Height = this.ChartHeight; //高度宽度需要手动绑定!!\r\n\t\t\t\telement.Width = this.ChartWidth;\r\n\r\n\t\t\t\tg_Minute.JSChart = JSCommon.JSChart.Init(element);\r\n\t\t\t\tthis.Minute.Option.NetworkFilter = this.NetworkFilter;\r\n\t\t\t\tthis.Minute.Option.Symbol = this.Symbol;\r\n\t\t\t\tg_Minute.JSChart.SetOption(this.Minute.Option);\r\n\t\t\t},\r\n\r\n\t\t\tCreateMinuteChart() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.CreateMinuteChart_h5();\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tthis.CreateMinuteChart_app();\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\r\n\t\t\t//走势图多日切换\r\n\t\t\tChangeMinutePeriod: function(period) {\r\n\t\t\t\tthis.Minute.IsShow = true;\r\n\t\t\t\tthis.KLine.IsShow = false;\r\n\t\t\t\tif (!g_Minute.JSChart) //不存在创建\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.Minute.Option.DayCount = period;\r\n\t\t\t\t\tthis.CreateMinuteChart();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tg_Minute.JSChart.ChangeDayCount(period);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tNetworkFilter: function(data, callback) {\r\n\t\t\t\tconsole.log('========================[HQChart:NetworkFilter] data', data);\r\n\t\t\t\tdata.PreventDefault = true;\r\n\t\t\t\tswitch (data.Name) {\r\n\t\t\t\t\tcase 'KLineChartContainer::ReqeustHistoryMinuteData': //分钟全量数据下载\r\n\t\t\t\t\t\tthis.RequestHistoryData(data, callback, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'KLineChartContainer::RequestFlowCapitalData': //数字货币不会调用\r\n\t\t\t\t\t\tthis.RequestHistoryData(data, callback, true);\r\n\t\t\t\t\t\t//this.RequestFlowCapitalData(data, callback);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'KLineChartContainer::RequestHistoryData': //日线全量数据下载\r\n\t\t\t\t\t\t// this.RequestHistoryData(data, callback, false);\r\n\t\t\t\t\t\tthis.RequestHistoryData(data, callback, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRequestHistoryData: function(data, callback, isMuite) {\r\n\t\t\t\tconsole.log(callback)\r\n\r\n\t\t\t\tdata.PreventDefault = true;\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tthis.getProductLine({\r\n\t\t\t\t\tcode: 'btc',\r\n\t\t\t\t\tk: '1min'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tlet recvData = res.data\r\n\t\t\t\t\tvar internalChart = g_KLine.JSChart.JSChartContainer;\r\n\t\t\t\t\tvar period = internalChart.Period;\r\n\t\t\t\t\tvar symbol = internalChart.Symbol;\r\n\r\n\t\t\t\t\tvar hqChartData = {\r\n\t\t\t\t\t\tcode: 0,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tver: 2.0\r\n\t\t\t\t\t}; //更新数据使用2.0版本格式\r\n\t\t\t\t\thqChartData.symbol = this.Symbol;\r\n\t\t\t\t\thqChartData.name = this.Symbol;\r\n\t\t\t\t\t//TODO:把recvData => hqchart内部格式 格式看教程\r\n\t\t\t\t\t//HQChart使用教程30-K线图如何对接第3方数据15-轮询增量更新1分钟K线数据\r\n\r\n\t\t\t\t\t// var item = recvData.tick;\r\n\t\t\t\t\tfor (var i = 0; i < recvData.length; i++) {\r\n\t\t\t\t\t\tvar item = recvData[i];\r\n\t\t\t\t\t\tvar timestamp = i * 1000;\r\n\t\t\t\t\t\tvar dateTime = new Date(item.time);\r\n\t\t\t\t\t\t// dateTime.setTime(timestamp);\r\n\t\t\t\t\t\tvar date = dateTime.getFullYear() * 10000 + (dateTime.getMonth() + 1) * 100 + dateTime\r\n\t\t\t\t\t\t\t.getDate();\r\n\t\t\t\t\t\tvar time = dateTime.getHours() * 100 + dateTime.getMinutes();\r\n\r\n\t\t\t\t\t\tvar newItem = [date, time, Number(item.open), Number(item.hight), Number(item.low),\r\n\t\t\t\t\t\t\tNumber(item.close), Number(item.volume), Number(item.price)\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\thqChartData.data.push(newItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(hqChartData)\r\n\t\t\t\t\tcallback(hqChartData);\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\t\t\t///\r\n\t\t\t//手势事件 app/小程序才有\r\n\t\t\t//KLine事件\r\n\t\t\tKLineTouchStart: function(event) {\r\n\t\t\t\tif (g_KLine.JSChart) g_KLine.JSChart.OnTouchStart(event);\r\n\t\t\t},\r\n\r\n\t\t\tKLineTouchMove: function(event) {\r\n\t\t\t\tif (g_KLine.JSChart) g_KLine.JSChart.OnTouchMove(event);\r\n\t\t\t},\r\n\r\n\t\t\tKLineTouchEnd: function(event) {\r\n\t\t\t\tif (g_KLine.JSChart) g_KLine.JSChart.OnTouchEnd(event);\r\n\t\t\t},\r\n\r\n\t\t\t//走势图事件\r\n\t\t\tMinuteTouchStart: function(event) {\r\n\t\t\t\tif (g_Minute.JSChart) g_Minute.JSChart.OnTouchStart(event);\r\n\t\t\t},\r\n\r\n\t\t\tMinuteTouchMove: function(event) {\r\n\t\t\t\tif (g_Minute.JSChart) g_Minute.JSChart.OnTouchMove(event);\r\n\t\t\t},\r\n\r\n\t\t\tMinuteTouchEnd: function(event) {\r\n\t\t\t\tif (g_Minute.JSChart) g_Minute.JSChart.OnTouchEnd(event);\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}